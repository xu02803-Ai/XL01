# ğŸ¯ Vercel API Key é—®é¢˜ - ä»è¿™é‡Œå¼€å§‹

## ğŸ‘‹ æ¬¢è¿ï¼

ä½ é‡åˆ°äº† **Vercel éƒ¨ç½²ä¸­ API Key æ— æ³•è¢«è¯»å–** çš„é—®é¢˜ã€‚åˆ«æ‹…å¿ƒï¼Œè¿™æ˜¯æœ€å¸¸è§çš„éƒ¨ç½²é—®é¢˜ä¹‹ä¸€ï¼Œæˆ‘ä»¬å·²ç»ä¸ºä½ å‡†å¤‡äº†å®Œæ•´çš„è¯Šæ–­å’Œè§£å†³æ–¹æ¡ˆã€‚

---

## âš¡ å¿«é€Ÿ 3 æ­¥å¼€å§‹

### æ­¥éª¤ 1: é€‰æ‹©ä½ çš„æƒ…å†µ

```
â±ï¸ ä½ æœ‰å¤šé•¿æ—¶é—´ï¼Ÿ

â–¡ 2 åˆ†é’Ÿ  â†’ çœ‹ VERCEL_QUICK_CARD.md
â–¡ 5 åˆ†é’Ÿ  â†’ çœ‹ VERCEL_QUICK_FIX.md
â–¡ 15 åˆ†é’Ÿ â†’ çœ‹ VERCEL_ACTION_PLAN.md
â–¡ å®Œæ•´ç†è§£ â†’ çœ‹ VERCEL_SOLUTION_SUMMARY.md
```

### æ­¥éª¤ 2: è¿è¡Œè¯Šæ–­å·¥å…·

```bash
# è·å–ä½ çš„ API Key: https://aistudio.google.com/app/apikey

# æµ‹è¯• API Key æ˜¯å¦æœ‰æ•ˆ
node test-vercel-setup.js "your-api-key-here"

# å®Œæ•´æµ‹è¯•ï¼ˆåŒ…æ‹¬ Vercelï¼‰
node test-vercel-setup.js "your-api-key-here" "https://your-project.vercel.app"
```

### æ­¥éª¤ 3: æŒ‰ç…§æŒ‡å¯¼ä¿®å¤

åŸºäºè¯Šæ–­ç»“æœé€‰æ‹©ç›¸åº”æ–‡æ¡£ã€‚

---

## ğŸ“ æ–‡ä»¶å¯¼èˆª

### ğŸš€ å¿«é€Ÿå¼€å§‹æ–‡æ¡£ï¼ˆæ¨èå…ˆçœ‹ï¼‰

| æ–‡ä»¶ | æ—¶é—´ | å†…å®¹ |
|------|------|------|
| [VERCEL_QUICK_CARD.md](VERCEL_QUICK_CARD.md) | 2åˆ†é’Ÿ | ä¸€é¡µçº¸å¿«é€Ÿå‚è€ƒ |
| [VERCEL_QUICK_FIX.md](VERCEL_QUICK_FIX.md) | 5åˆ†é’Ÿ | å¿«é€Ÿä¿®å¤æ­¥éª¤ |
| [VERCEL_RESOURCES_INDEX.md](VERCEL_RESOURCES_INDEX.md) | 5åˆ†é’Ÿ | èµ„æºå¯¼èˆªç´¢å¼• |

### ğŸ“– è¯¦ç»†æ–‡æ¡£

| æ–‡ä»¶ | å†…å®¹ |
|------|------|
| [VERCEL_ACTION_PLAN.md](VERCEL_ACTION_PLAN.md) | å®Œæ•´è¡ŒåŠ¨è®¡åˆ’å’Œè¯Šæ–­æ ‘ |
| [VERCEL_ENV_CHECKLIST.md](VERCEL_ENV_CHECKLIST.md) | Vercel æ§åˆ¶é¢æ¿è¯¦ç»†æŒ‡å— |
| [VERCEL_SOLUTION_SUMMARY.md](VERCEL_SOLUTION_SUMMARY.md) | å®Œæ•´è§£å†³æ–¹æ¡ˆæ€»ç»“ |

### ğŸ”§ è¯Šæ–­å·¥å…·

| å·¥å…· | ç”¨é€” |
|------|------|
| [test-vercel-setup.js](test-vercel-setup.js) | Node.js è¯Šæ–­è„šæœ¬ |
| [diagnose-vercel-env.sh](diagnose-vercel-env.sh) | Bash è¯Šæ–­è„šæœ¬ |

### ğŸ“‹ é¡¹ç›®æ€»ç»“

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| [VERCEL_DELIVERY_SUMMARY.md](VERCEL_DELIVERY_SUMMARY.md) | å®Œæ•´äº¤ä»˜å†…å®¹æ€»ç»“ |
| æœ¬æ–‡ä»¶ | å¿«é€Ÿå…¥é—¨æŒ‡å— |

---

## ğŸ“ æ ¹æ®ä½ çš„æƒ…å†µé€‰æ‹©

### æƒ…å†µ A: æˆ‘å®Œå…¨ä¸çŸ¥é“æ€ä¹ˆåš
ğŸ‘‰ **æ¨è:** [VERCEL_QUICK_CARD.md](VERCEL_QUICK_CARD.md) (2 åˆ†é’Ÿ)  
ç„¶å â†’ è¿è¡Œè¯Šæ–­å·¥å…·  
ç„¶å â†’ æŒ‰ç»“æœé€‰æ‹©è¯¦ç»†æ–‡æ¡£

### æƒ…å†µ B: æˆ‘æƒ³å¿«é€Ÿè§£å†³é—®é¢˜
ğŸ‘‰ **æ¨è:** [VERCEL_QUICK_FIX.md](VERCEL_QUICK_FIX.md) (5 åˆ†é’Ÿ)  
åŒ…å«å®Œæ•´çš„å¿«é€Ÿä¿®å¤æ­¥éª¤

### æƒ…å†µ C: æˆ‘æƒ³å®Œå…¨ç†è§£è¿™ä¸ªé—®é¢˜
ğŸ‘‰ **æ¨è:** [VERCEL_ACTION_PLAN.md](VERCEL_ACTION_PLAN.md) (15 åˆ†é’Ÿ)  
ç„¶åçœ‹ â†’ [VERCEL_SOLUTION_SUMMARY.md](VERCEL_SOLUTION_SUMMARY.md) (20 åˆ†é’Ÿ)

### æƒ…å†µ D: æˆ‘éœ€è¦ä¸€æ­¥æ­¥çš„è¯¦ç»†æŒ‡å¯¼
ğŸ‘‰ **æ¨è:** [VERCEL_ENV_CHECKLIST.md](VERCEL_ENV_CHECKLIST.md)  
æ¯ä¸€æ­¥éƒ½æœ‰è¯¦ç»†çš„è¯´æ˜å’Œæˆªå›¾

### æƒ…å†µ E: æˆ‘éœ€è¦æ‰¾åˆ°ä»€ä¹ˆèµ„æº
ğŸ‘‰ **æ¨è:** [VERCEL_RESOURCES_INDEX.md](VERCEL_RESOURCES_INDEX.md)  
å®Œæ•´çš„èµ„æºç´¢å¼•å’Œå¯¼èˆª

---

## ğŸ”§ è¯Šæ–­å·¥å…·ä½¿ç”¨

### å·¥å…· 1: Node.js å¿«é€Ÿæµ‹è¯•
```bash
# æœ€ç®€å•çš„æµ‹è¯•ï¼ˆåªéœ€è¦ API Keyï¼‰
node test-vercel-setup.js "your-api-key-from-aistudio"

# å®Œæ•´æµ‹è¯•ï¼ˆéœ€è¦ Vercel éƒ¨ç½² URLï¼‰
node test-vercel-setup.js "your-api-key" "https://your-project.vercel.app"

# è¾“å‡ºç¤ºä¾‹:
# âœ… Google API Key: æœ‰æ•ˆ
# âŒ Vercel éƒ¨ç½²: 500 - GOOGLE_AI_API_KEY is missing
```

### å·¥å…· 2: Shell è¯Šæ–­è„šæœ¬
```bash
./diagnose-vercel-env.sh

# ä¼šé€æ­¥æ£€æŸ¥:
# 1. æœ¬åœ°ç¯å¢ƒå˜é‡
# 2. Google API Key æœ‰æ•ˆæ€§
# 3. Vercel éƒ¨ç½²å¯è¾¾æ€§ (å¯é€‰)
```

---

## ğŸ’¡ é—®é¢˜ç—‡çŠ¶é€ŸæŸ¥è¡¨

### ç—‡çŠ¶ 1: 400 Bad Request (æ¥è‡ª Google)
```json
{
  "error": "API key not valid for this request"
}
```
**åŸå› :** API Key æ— æ•ˆæˆ–è¿‡æœŸ  
**è§£å†³:** è·å–æ–° Key â†’ https://aistudio.google.com/app/apikey

### ç—‡çŠ¶ 2: 500 Server Error (æ¥è‡ª Vercel)
```json
{
  "error": "GOOGLE_AI_API_KEY is missing or empty"
}
```
**åŸå› :** Vercel æ²¡æœ‰è¯»åˆ°ç¯å¢ƒå˜é‡  
**è§£å†³:** æ£€æŸ¥ Vercel é…ç½® â†’ Redeploy

### ç—‡çŠ¶ 3: ç«‹å³æµ‹è¯•å¤±è´¥
```bash
# æ”¹å®Œç¯å¢ƒå˜é‡åç«‹å³æµ‹è¯•
curl "https://your-project.vercel.app/api/ai-handler"
# âŒ è¿”å› 500 æˆ–è¶…æ—¶
```
**åŸå› :** Vercel éœ€è¦æ—¶é—´æ„å»ºéƒ¨ç½²  
**è§£å†³:** ç­‰å¾… 2-3 åˆ†é’Ÿåé‡è¯•

---

## ğŸ¯ ä¸‰ä¸ªæœ€å®¹æ˜“è¸©å‘çš„åœ°æ–¹

### âš ï¸ å‘ 1: Preview ç¯å¢ƒæ²¡å‹¾é€‰
```
Vercel Settings â†’ Environment Variables

å¿…é¡»åŒæ—¶å‹¾é€‰:
âœ“ Production
âœ“ Preview â† ğŸ”´ æœ€å®¹æ˜“å¿˜è®°ï¼
âœ“ Development

å¦‚æœåªå‹¾é€‰ Productionï¼ŒPreview åˆ†æ”¯æ— æ³•è¯»å– Keyï¼
```

### âš ï¸ å‘ 2: æ”¹äº†ç¯å¢ƒå˜é‡åæ²¡ Redeploy
```
æ”¹å®Œåéœ€è¦:
Deployments â†’ æœ€è¿‘éƒ¨ç½² â†’ ... â†’ Redeploy

âš ï¸ åªæ˜¯æ”¹è®¾ç½®ä¸ä¼šè‡ªåŠ¨ç”Ÿæ•ˆï¼
```

### âš ï¸ å‘ 3: æ”¹å®Œç«‹å³æµ‹è¯•
```
Redeploy åéœ€è¦ç­‰å¾… 2-3 åˆ†é’Ÿ
ç«‹å³æµ‹è¯•é€šå¸¸ä¼šå¤±è´¥

âœ… ç­‰å¾… 2-3 åˆ†é’Ÿå†æµ‹è¯•
```

---

## âœ… å®Œæ•´æ£€æŸ¥æ¸…å•

å¿«é€Ÿæ£€æŸ¥ï¼Œçœ‹çœ‹æ˜¯å¦é—æ¼äº†ä»€ä¹ˆï¼š

- [ ] è·å–äº† Google API Key (https://aistudio.google.com/app/apikey)
- [ ] åœ¨ Vercel ä¸­æ·»åŠ äº† `GOOGLE_AI_API_KEY` ç¯å¢ƒå˜é‡
- [ ] å˜é‡åå®Œå…¨å‡†ç¡®ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰
- [ ] âœ“ å‹¾é€‰äº† Production ç¯å¢ƒ
- [ ] âœ“ å‹¾é€‰äº† Preview ç¯å¢ƒ (â­ å…³é”®ï¼)
- [ ] âœ“ å‹¾é€‰äº† Development ç¯å¢ƒ
- [ ] ç‚¹å‡»äº† Redeployï¼ˆä¸ä½¿ç”¨ç¼“å­˜ï¼‰
- [ ] ç­‰å¾…äº† 2-3 åˆ†é’Ÿ
- [ ] è¿è¡Œäº†è¯Šæ–­å·¥å…·æµ‹è¯•
- [ ] æ‰‹åŠ¨æµ‹è¯•äº† API ç«¯ç‚¹

---

## ğŸ“ æˆ‘éœ€è¦æ›´å¤šå¸®åŠ©

### æ­¥éª¤ 1: æ”¶é›†è¯Šæ–­ä¿¡æ¯
```bash
# è¿è¡Œè¯Šæ–­å·¥å…·å¹¶ä¿å­˜è¾“å‡º
node test-vercel-setup.js "your-key" "https://your-project.vercel.app" > diagnosis.txt

# æµ‹è¯• API ç«¯ç‚¹
curl -v "https://your-project.vercel.app/api/ai-handler?action=text&prompt=test"
```

### æ­¥éª¤ 2: æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—
- Vercel Dashboard â†’ Deployments â†’ æœ€è¿‘éƒ¨ç½² â†’ Function Logs

### æ­¥éª¤ 3: æä¾›ä¿¡æ¯
- è¯Šæ–­è„šæœ¬çš„å®Œæ•´è¾“å‡º (diagnosis.txt)
- API è°ƒç”¨çš„å®Œæ•´å“åº”
- Vercel éƒ¨ç½²æ—¥å¿—æˆªå›¾
- ç¯å¢ƒå˜é‡é…ç½®æˆªå›¾

---

## ğŸš€ ç«‹å³å¼€å§‹

### é€‰é¡¹ 1: 5 åˆ†é’Ÿå¿«é€Ÿä¿®å¤
```bash
# 1. è¯»æ–‡æ¡£
cat VERCEL_QUICK_FIX.md

# 2. è¿è¡Œè¯Šæ–­
node test-vercel-setup.js "your-key"

# 3. æŒ‰æŒ‡å¯¼ä¿®å¤
```

### é€‰é¡¹ 2: å®Œæ•´ç†è§£
```bash
# 1. è¯»å¿«é€Ÿå¡ç‰‡
cat VERCEL_QUICK_CARD.md

# 2. è¿è¡Œè¯Šæ–­
node test-vercel-setup.js "your-key" "https://your-project.vercel.app"

# 3. è¯»å¯¹åº”çš„è¯¦ç»†æ–‡æ¡£
# 4. æŒ‰æ­¥éª¤æ“ä½œ
```

### é€‰é¡¹ 3: çœ‹è§†é¢‘æ•™ç¨‹æç¤º
æŸ¥çœ‹ VERCEL_QUICK_CARD.md ä¸­çš„é—®é¢˜è¯Šæ–­æ ‘ï¼Œä¸€æ­¥æ­¥æŒ‰å›¾ç´¢éª¥ã€‚

---

## ğŸ“š å‚è€ƒèµ„æº

- [Google AI Studio (è·å– API Key)](https://aistudio.google.com/app/apikey)
- [Vercel Dashboard](https://vercel.com/dashboard)
- [Vercel ç¯å¢ƒå˜é‡æ–‡æ¡£](https://vercel.com/docs/projects/environment-variables)
- [Google Gemini API æ–‡æ¡£](https://ai.google.dev/docs)

---

## ğŸ¯ ç°åœ¨å°±å¼€å§‹

### ç¬¬ 1 æ­¥: é€‰æ‹©æ–‡æ¡£
ğŸ‘‰ **å¦‚æœä½ ç€æ€¥:** [VERCEL_QUICK_CARD.md](VERCEL_QUICK_CARD.md)  
ğŸ‘‰ **å¦‚æœä½ æœ‰ç‚¹æ—¶é—´:** [VERCEL_QUICK_FIX.md](VERCEL_QUICK_FIX.md)  
ğŸ‘‰ **å¦‚æœä½ æƒ³æ·±å…¥ç†è§£:** [VERCEL_ACTION_PLAN.md](VERCEL_ACTION_PLAN.md)

### ç¬¬ 2 æ­¥: è·å– API Key
ğŸ‘‰ https://aistudio.google.com/app/apikey

### ç¬¬ 3 æ­¥: è¿è¡Œè¯Šæ–­
ğŸ‘‰ `node test-vercel-setup.js "your-key"`

### ç¬¬ 4 æ­¥: æŒ‰æŒ‡å¯¼æ“ä½œ
ğŸ‘‰ æ ¹æ®è¯Šæ–­ç»“æœé€‰æ‹©å¯¹åº”æ–‡æ¡£

---

**ç¥ä½ è§£å†³é—®é¢˜é¡ºåˆ©ï¼** ğŸ‰

å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œæ£€æŸ¥ [VERCEL_RESOURCES_INDEX.md](VERCEL_RESOURCES_INDEX.md) æ‰¾åˆ°ä½ éœ€è¦çš„èµ„æºã€‚
